# –°–∏—Å—Ç–µ–º–∞ —Å–Ω–∞—Ä—è–¥–æ–≤ - SphereCast –≤–º–µ—Å—Ç–æ Rigidbody

## –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### ‚úÖ –£–¥–∞–ª—ë–Ω Rigidbody
- –°–Ω–∞—Ä—è–¥—ã –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–∏–∑–∏–∫—É Unity
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ Collider –Ω–∞ —Å–Ω–∞—Ä—è–¥–µ
- –ë–æ–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ SphereCast
–¢—Ä–∏ —Ä–µ–∂–∏–º–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Å–Ω–∞—Ä—è–¥–æ–≤:

1. **Instant** (–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π)
   - –£—Ä–æ–Ω –Ω–∞–Ω–æ—Å–∏—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—ë—Ç–∞
   - –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è hitscan –æ—Ä—É–∂–∏—è (–ª–∞–∑–µ—Ä—ã, —Ä–µ–ª—å—Å—ã)
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

2. **SphereCastWhileFlying** (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - –°–Ω–∞—Ä—è–¥ –ª–µ—Ç–∏—Ç –∫ —Ü–µ–ª–∏
   - –ö–∞–∂–¥—ã–π –∫–∞–¥—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —á–µ—Ä–µ–∑ `Physics.SphereCast`
   - –ü–æ–ø–∞–¥–∞–µ—Ç –≤ –ø–µ—Ä–≤–æ–≥–æ –≤—Ä–∞–≥–∞ –Ω–∞ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏
   - –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –±–∞–ª–ª–∏—Å—Ç–∏–∫–∞ —Å —Ç–æ—á–Ω–æ–π –¥–µ—Ç–µ–∫—Ü–∏–µ–π

3. **CheckOnImpact** (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏)
   - –°–Ω–∞—Ä—è–¥ –ª–µ—Ç–∏—Ç –∫ —Ü–µ–ª–µ–≤–æ–π —Ç–æ—á–∫–µ
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Ä–∞–≥–æ–≤ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏
   - –ú–æ–∂–µ—Ç –ø—Ä–æ–º–∞—Ö–Ω—É—Ç—å—Å—è –µ—Å–ª–∏ –≤—Ä–∞–≥ —É—à—ë–ª

## –ù–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Projectile

```csharp
[Tooltip] ProjectileMode mode = SphereCastWhileFlying
[Tooltip] float sphereRadius = 0.3f          // –†–∞–¥–∏—É—Å –¥–µ—Ç–µ–∫—Ü–∏–∏
[Tooltip] bool hasAreaDamage = false         // AOE —É—Ä–æ–Ω
[Tooltip] float areaDamageRadius = 2f        // –†–∞–¥–∏—É—Å AOE
[Tooltip] float areaDamagePercent = 0.5f     // –£—Ä–æ–Ω –Ω–∞ –∫—Ä–∞—é AOE
[Tooltip] float maxLifetime = 5f             // –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–Ω–∞—Ä—è–¥–∞
```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ—Ñ–∞–±–∞

### –ö–æ–º–∞–Ω–¥–∞: `TD/Create Projectile Prefab`

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –°–æ–∑–¥–∞—ë—Ç —Å—Ñ–µ—Ä—É (scale 0.2)
- ‚úÖ –£–¥–∞–ª—è–µ—Ç Collider –∏ Rigidbody
- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Projectile
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç mode = SphereCastWhileFlying
- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç TrailRenderer –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∫ `Assets/Prefabs/Projectile.prefab`
- ‚úÖ –ù–∞–∑–Ω–∞—á–∞–µ—Ç –≤ ProjectilePool –≤ —Å—Ü–µ–Ω–µ
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç pool size (50/200)

## –ß—Ç–æ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

1. ‚úÖ **Projectile.cs –æ–±–Ω–æ–≤–ª—ë–Ω**
   - Enum ProjectileMode —Å 3 —Ä–µ–∂–∏–º–∞–º–∏
   - SphereCast –¥–µ—Ç–µ–∫—Ü–∏—è –≤ –ø–æ–ª—ë—Ç–µ
   - –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Å—ã–ª–∫–∏ –Ω–∞ target enemy
   - –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è hitscan

2. ‚úÖ **Turret.cs –æ–±–Ω–æ–≤–ª—ë–Ω**
   - –ü–µ—Ä–µ–¥–∞—ë—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –≤—Ä–∞–≥–∞ –ø—Ä–∏ –≤—ã—Å—Ç—Ä–µ–ª–µ
   - `projectile.Launch(targetPos, damage, speed, currentTarget)`

3. ‚úÖ **Projectile –ø—Ä–µ—Ñ–∞–± —Å–æ–∑–¥–∞–Ω**
   - –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `Assets/Prefabs/Projectile.prefab`
   - Trail Renderer –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–æ—Ä–∞–Ω–∂–µ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç)
   - –ù–∞–∑–Ω–∞—á–µ–Ω –≤ ProjectilePool

4. ‚úÖ **ProjectilePool –Ω–∞—Å—Ç—Ä–æ–µ–Ω**
   - Initial Pool Size: 50
   - Max Pool Size: 200
   - Auto Expand: true
   - Projectile Prefab: –Ω–∞–∑–Ω–∞—á–µ–Ω

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ùå **–†–∞–Ω—å—à–µ**: Rigidbody + Collider –Ω–∞ –∫–∞–∂–¥–æ–º —Å–Ω–∞—Ä—è–¥–µ
- ‚úÖ **–°–µ–π—á–∞—Å**: –û–¥–∏–Ω SphereCast –≤ Update
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: ~3x –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Ñ–∏–∑–∏–∫—É

### –¢–æ—á–Ω–æ—Å—Ç—å
- ‚úÖ SphereCast –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å—é —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é –∑–∞ –∫–∞–¥—Ä
- ‚úÖ –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–µ —Ü–µ–ª–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Ä–∞–¥–∏—É—Å –¥–µ—Ç–µ–∫—Ü–∏–∏

### –ì–∏–±–∫–æ—Å—Ç—å
- ‚úÖ 3 —Ä–µ–∂–∏–º–∞ –Ω–∞ –≤—ã–±–æ—Ä (instant/flying/check on impact)
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –æ—Ä—É–∂–∏—è
- ‚úÖ AOE —É—Ä–æ–Ω —Å falloff

## –†–µ–∂–∏–º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Ç—É—Ä–µ–ª–µ–π (Machine Gun)
```
Mode: SphereCastWhileFlying
Sphere Radius: 0.2f
Speed: 30-50
```

### –î–ª—è —Å–Ω–∞–π–ø–µ—Ä—Å–∫–∏—Ö —Ç—É—Ä–µ–ª–µ–π (Railgun)
```
Mode: Instant
Has Area Damage: false
```

### –î–ª—è –∞—Ä—Ç–∏–ª–ª–µ—Ä–∏–∏ (Mortar)
```
Mode: CheckOnImpact
Has Area Damage: true
Area Damage Radius: 3-5f
```

### –î–ª—è —Ä–∞–∫–µ—Ç (Missile)
```
Mode: SphereCastWhileFlying
Sphere Radius: 0.4f
Has Area Damage: true
Area Damage Radius: 2f
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Å–∏—Å—Ç–µ–º—ã –≥–æ—Ç–æ–≤—ã! –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:

1. ~~–°–æ–∑–¥–∞—Ç—å Projectile –ø—Ä–µ—Ñ–∞–±~~ ‚úÖ –ì–û–¢–û–í–û
2. ~~–ù–∞–∑–Ω–∞—á–∏—Ç—å –≤ ProjectilePool~~ ‚úÖ –ì–û–¢–û–í–û
3. –ó–∞–ø–µ—á—å NavMesh
4. –ù–∞–∑–Ω–∞—á–∏—Ç—å WaveConfigs –∏ SpawnPoints –≤ WaveManager
5. –ù–∞–∂–∞—Ç—å Play!

## Debug –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–í Scene view –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Å–Ω–∞—Ä—è–¥–∞:
- **–ñ—ë–ª—Ç–∞—è —Å—Ñ–µ—Ä–∞**: radius –¥–µ—Ç–µ–∫—Ü–∏–∏
- **–ö—Ä–∞—Å–Ω–∞—è —Å—Ñ–µ—Ä–∞**: radius AOE —É—Ä–æ–Ω–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω)
- **–ó–µ–ª—ë–Ω–∞—è –ª–∏–Ω–∏—è**: —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è –∫ —Ü–µ–ª–∏
- **–ì–æ–ª—É–±–∞—è —Å—Ñ–µ—Ä–∞**: —Å–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∏—Ü–∏—è SphereCast

---

**–°–∏—Å—Ç–µ–º–∞ —Å–Ω–∞—Ä—è–¥–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞!** üöÄ

–ù–∏–∫–∞–∫–∏—Ö Rigidbody, —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π SphereCast —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º.

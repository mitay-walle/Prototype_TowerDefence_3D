# –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Unity

## –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

Unity –Ω–µ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–∏. –î–∞–∂–µ —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º **Auto Refresh**, Unity –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (–∫–∞–∂–¥—ã–µ 2-5 —Å–µ–∫—É–Ω–¥), –∞ –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Claude Code, —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã), Unity –º–æ–∂–µ—Ç –Ω–µ —É—Å–ø–µ—Ç—å –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏—Ö, –∏ MenuItem –±—É–¥–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. CompilationLogger.cs
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ Console:

```csharp
[InitializeOnLoad]
public static class CompilationLogger
{
    static CompilationLogger()
    {
        CompilationPipeline.compilationStarted += OnCompilationStarted;
        CompilationPipeline.compilationFinished += OnCompilationFinished;
        CompilationPipeline.assemblyCompilationFinished += OnAssemblyCompilationFinished;
    }
}
```

**–ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è**:
- ‚è≥ **Compilation STARTED** - –∫–æ–≥–¥–∞ –Ω–∞—á–∞–ª–∞—Å—å –∫–æ–º–ø–∏–ª—è—Ü–∏—è
- ‚úì **Compilation FINISHED (X.XXs)** - –∫–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å (—Å –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- ‚úì/‚ö†Ô∏è/‚ùå **Assembly status** - —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–∏ (OK/WARNINGS/ERRORS)

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞**:
- `TD/Force Recompile All` - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### 2. WaitForCompilation.cs
–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:

```csharp
public static class WaitForCompilation
{
    public static bool IsCompiling()
    {
        return EditorApplication.isCompiling;
    }

    public static void LogStatus()
    {
        // –õ–æ–≥–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: COMPILING –∏–ª–∏ READY
    }
}
```

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**:
- `TD/Wait For Compilation Test` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ API
```csharp
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏–¥—ë—Ç –ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è —Å–µ–π—á–∞—Å
if (EditorApplication.isCompiling)
{
    Debug.Log("Waiting for compilation...");
    return;
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å
1. –°–æ–∑–¥–∞–ª–∏/–∏–∑–º–µ–Ω–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç
2. –°–º–æ—Ç—Ä–∏–º –≤ Console –Ω–∞ –ª–æ–≥–∏ `[CompilationLogger]`
3. –ñ–¥—ë–º —Å–æ–æ–±—â–µ–Ω–∏–µ **‚úì Compilation FINISHED**
4. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å MenuItem –∏–∑ –Ω–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è
–ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è:
```
TD/Force Recompile All
```
–≠—Ç–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç –≤—Å–µ assets –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –ø–æ–ª–Ω—É—é –∫–æ–º–ø–∏–ª—è—Ü–∏—é.

## –¢–∏–ø–∏—á–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

–ò–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ:

| –î–µ–π—Å—Ç–≤–∏–µ | –í—Ä–µ–º—è |
|----------|-------|
| –ö–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π | 0.04s |
| –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ Editor —Å–∫—Ä–∏–ø—Ç–∞ | ~2-5s |
| –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ | ~1-3s |
| –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è (`Force Recompile All`) | ~3-8s |

**Auto Refresh –∑–∞–¥–µ—Ä–∂–∫–∞**: 2-5 —Å–µ–∫—É–Ω–¥ –¥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–û–±—â–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞**: Auto Refresh (2-5s) + Compilation (1-5s) = **3-10 —Å–µ–∫—É–Ω–¥**

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–∂–∏–¥–∞–Ω–∏—è:

```csharp
// 1. –°–æ–∑–¥–∞–ª–∏/–∏–∑–º–µ–Ω–∏–ª–∏ —Ñ–∞–π–ª
Write("Assets/Scripts/MyScript.cs", content);

// 2. –ñ–¥—ë–º Auto Refresh (5s) + Compilation (5s) = 10s
await Task.Delay(10000);

// 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
if (EditorApplication.isCompiling)
{
    // –ñ–¥—ë–º –µ—â—ë, –µ—Å–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤—Å—ë –µ—â—ë –∏–¥—ë—Ç
    while (EditorApplication.isCompiling)
    {
        await Task.Delay(500);
    }
}

// 4. –¢–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å MenuItem
EditorApplication.ExecuteMenuItem("TD/My Menu Item");
```

### –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–¥–ª—è –Ω–µ—Ç–æ—Ä–æ–ø–ª–∏–≤—ã—Ö):

```csharp
// –ü—Ä–æ—Å—Ç–æ –∂–¥—ë–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
await Task.Delay(12000); // 12 —Å–µ–∫—É–Ω–¥ = –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ö–≤–∞—Ç–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤
```

## –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "ExecuteMenuItem failed because there is no menu named..."
**–ü—Ä–∏—á–∏–Ω–∞**: –°–∫—Ä–∏–ø—Ç –Ω–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Console –Ω–∞ `[CompilationLogger] ‚úì Compilation FINISHED`
2. –ü–æ–¥–æ–∂–¥–∞—Ç—å –µ—â—ë 5-10 —Å–µ–∫—É–Ω–¥
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å `TD/Force Recompile All`

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∑–∞–≤–∏—Å–ª–∞
**–ü—Ä–∏—á–∏–Ω–∞**: –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Console –Ω–∞ –æ—à–∏–±–∫–∏ (‚ùå ERRORS)
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å `TD/Force Recompile All`

### –ü—Ä–æ–±–ª–µ–º–∞: Auto Refresh –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ü—Ä–∏—á–∏–Ω–∞**: –û—Ç–∫–ª—é—á–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
**–†–µ—à–µ–Ω–∏–µ**:
Edit ‚Üí Preferences ‚Üí Asset Pipeline ‚Üí Auto Refresh = **Enabled**

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í—Å–µ–≥–¥–∞ –∂–¥–∏—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º MenuItem
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏ CompilationLogger** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Ç–∞–π–º–∏–Ω–≥–æ–≤
3. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–ø–∞—Å –≤—Ä–µ–º–µ–Ω–∏** (–ª—É—á—à–µ –ø–æ–¥–æ–∂–¥–∞—Ç—å 12 —Å–µ–∫—É–Ω–¥, —á–µ–º –ø–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫—É)
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ EditorApplication.isCompiling** –ø–µ—Ä–µ–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Force Recompile All** –µ—Å–ª–∏ Auto Refresh –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏

–ü–æ—Å–ª–µ–¥–Ω—è—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è:
```
[CompilationLogger] üîÑ Forcing full recompilation...
[CompilationLogger] ‚è≥ Compilation STARTED
[CompilationLogger] ‚úì Compilation FINISHED (0.04s)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ! –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞: **0.04s** (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π).

---

**–°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–∞!** ‚úì

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ó–Ω–∞—Ç—å —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–∂–∏–¥–∞–Ω–∏–π
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å MenuItem –∏ Auto Refresh
